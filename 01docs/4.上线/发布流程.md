## 发布流程


### 1、数据库
##### 1.1 创建mysql的数据库sso
```
创建mysql数据库时, 名称: sso, 字符集: utf8mb4 字符集校对: utf8mb4_general_ci
```
##### 1.2 创建表(有相应的表结构)
```
有相应的mysql表脚本,运行一下就可以了
```
##### 1.3 导数据 将oracle中的数据导入到mysql中
```
有sql脚本, 一个表一个表的导出(导出脚本：sso-从oracle导数据到mysql.sql)
```


### 2、发布(sso登录相关项目)项目

##### 2.1 apiserver 

``` shell

./sso_apiserver install -r zk://zookeeper地址 -c v3

./sso_apiserver start 

```
##### 2.2 lgapi

``` shell

./sso_lgapi install -r zk://zookeeper地址 -c v3

./sso_lgapi start 

```

##### 2.3 lgweb

``` shell

./lgweb install -r zk://zookeeper地址 -c lgweb

./lgweb start 

```


### 3、发布用户管理系统项目
```
前提说明: 由于用户系统依赖sso登录系统,因此前端项目要知道前面发布的地址后才能打包生成mgrweb项目
```
##### 3.1 mgrapi
``` shell

./mgrapi install -r zk://zookeeper地址 -c mgrapi

./mgrapi start

```
```
mgrapi 需要同步图片到图片服务器，同步地址为: mgrapi 目录里 static/img
```

##### 3.2 mgrweb
``` shell

./mgrweb install -r zk://zookeeper地址 -c mgrweb

./mgrweb start

```
